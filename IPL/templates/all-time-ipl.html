{% extends "base.html" %} {% block head %} {{ super() }}
	<meta name="robots" content="noindex,nofollow" />
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="{{ url_for('static', filename= 'css/bootstrap.min.css') }}" rel="stylesheet" >
	 <link href="{{ url_for('static', filename= 'fonts/css/fontawesome.min.css') }}" rel="stylesheet" >
	<link href="{{ url_for('static', filename= 'fonts/css/brands.min.css') }}" rel="stylesheet" />
    <link href="{{ url_for('static', filename= 'fonts/css/solid.min.css') }}" rel="stylesheet" />
	<link href="{{ url_for('static', filename= 'css/global.css') }}" rel="stylesheet">
	<link href="{{ url_for('static', filename= 'css/index.css') }}" rel="stylesheet">
	<link href="{{ url_for('static', filename= 'css/live.css') }}" rel="stylesheet">
   <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
   <link href="{{ url_for('static', filename= 'css/flag-icons.css') }}" rel="stylesheet">
    <style>
    body {
        font-family: 'Exo 2', sans-serif;
        background-image: url('/static/images/banner_bg.jpg');
        background-size: cover;
        background-attachment: fixed;
    }
    .status{
        display: block;
    }
    .dropdown {
    position: relative;
    display: inline-block;
  }

  .dropdown-toggle {
    background-color: #00816a;
    color: white;
    padding: 7px 3px;
    border: 1px solid #ffb09e;
    border-radius: 25px;
    cursor: pointer;
    font-size: 14px;
    font-weight: bold;
    min-width: 250px;
    text-align: center;
  }

  .dropdown-menu {
    display: none;
    position: absolute;
    background-color: white;
    min-width: 250px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    border: 1px solid #ffb09e;
    border-radius: 8px;
    margin-top: 8px;
    font-weight: bold;
    z-index: 1;
    overflow: hidden;
  }

  .dropdown-menu a {
    color: #333;
    padding: 5px 10px;
    text-decoration: none;
    display: block;
    border-bottom: 1px solid #eaeaea;
    font-size: 13px;
  }

  .dropdown-menu a:hover {
    background-color: #f5f5f5;
  }

  .dropdown-menu a.activeD {
    background-color: #00816a;
    color: white;
  }

  .dropdown-menu a:last-child {
    border-bottom: none;
  }

  .dropdown.show .dropdown-menu {
    display: block;
  }

  .table-wrapper a {
    color: #0398dc !important;
  }

  .table-wrapper {
  margin-top: 20px;
  border-radius: 10px;
  overflow-x: auto;
  border: 1px solid #ffb09e;
  background-color: white;
}

/* Updated table styling */
table {
  border-collapse: collapse;
  width: 100%;
  background-color: white;
}

/* Remove bottom border from last row */
tr:last-child td {
  border-bottom: none !important;
}

  th, td {
    text-align: left;
    padding-top: 7px;
    padding-bottom: 7px;
    padding-right: 5px;
    padding-left: 5px;
    font-size: 12px;
    border-bottom: 1px solid #ddd !important;
  }

  th {
    background-color: #00816a;
    color: white;
  }

  .team-logo {
    width: 23px;
    height: 23px;
    vertical-align: middle;
  }

  .position {
    text-align: center;
  }

  .logo-col {
    text-align: center;
  }
    </style>
{% endblock %}

{% block content %}
<div style="padding-top: 55px;"></div>

<section id="center" class="pt-3 pb-3 center_live">
 <div class="container-xl">

   <div class="row schedule2">
    <div class="col-md-9">
	  <div class="live">
		  <div class="live_2 mt-2"><center><span class="text-white fw-bold" style="font-size: 25px">All Time IPL Data</span></center></div>
		  <div class="score_1 mt-2">
		</div>
		  <center><div class="pt-3 dropdown">
			  <button class="dropdown-toggle" onclick="toggleDropdown()" id="dropdownButton">Current Teams <i class="fa fa-chevron-down font_10 ms-1"></i></button>
			  <div class="dropdown-menu pt-0 pb-0" id="dropdownMenu">
				<a href="#" class="activeD" onclick="selectOption(this, 'Current Teams')">Current Teams</a>
				<a href="#" onclick="selectOption(this, 'Defunct Teams')">Defunct Teams</a>
				<a href="#" onclick="selectOption(this, 'Tournament Summary')">Tournament Summary</a>
				<a href="#" onclick="selectOption(this, 'Editions and Results')">Editions and Results</a>
				<a href="#" onclick="selectOption(this, 'Performance by Teams')">Performance by Teams</a>
                <a href="#" onclick="selectOption(this, 'Position Each Season')">Position Each Season</a>
				<a href="#" onclick="selectOption(this, 'All-time Standings')">All-time Standings</a>
				<a href="#" onclick="selectOption(this, 'Batting Records')">Batting Records</a>
				<a href="#" onclick="selectOption(this, 'Bowling Records')">Bowling Records</a>
				<a href="#" onclick="selectOption(this, 'Fielding Records')">Fielding Records</a>
                <a href="#" onclick="selectOption(this, 'Team Records')">Team Records</a>
                <a href="#" onclick="selectOption(this, 'Most Appearences')">Most Appearences</a>
			  </div>
		  </div></center>
		  <div id="tableContainer" class="table-wrapper"></div>
	  </div>
	</div>
   </div>
 </div>
</section>
<script>
    function toggleDropdown() {
  	const chevron = document.querySelector('.dropdown-toggle .fa-chevron-down');
  	const dropdown = document.querySelector('.dropdown');
    dropdown.classList.toggle('show');

    // Toggle between up and down chevron
    if (dropdown.classList.contains('show')) {
        chevron.classList.remove('fa-chevron-down');
        chevron.classList.add('fa-chevron-up');
    } else {
        chevron.classList.remove('fa-chevron-up');
        chevron.classList.add('fa-chevron-down');
    }
  }

  // Close dropdown when clicking outside
  window.onclick = function(event) {
    if (!event.target.matches('.dropdown-toggle')) {
      var dropdowns = document.getElementsByClassName("dropdown");
      var chevrons = document.querySelectorAll('.dropdown-toggle .fa-chevron-up');
      for (var i = 0; i < dropdowns.length; i++) {
        var openDropdown = dropdowns[i];
        if (openDropdown.classList.contains('show')) {
          openDropdown.classList.remove('show');
          chevrons.forEach(chevron =>{
          	chevron.classList.remove('fa-chevron-up');
        	chevron.classList.add('fa-chevron-down');
          });
        }
      }
    }
  }

  function selectOption(element, optionTitle) {
    // Remove active from all
    const items = document.querySelectorAll('.dropdown-menu a');
    items.forEach(item => item.classList.remove('activeD'));

    // Set active to clicked one
    element.classList.add('activeD');

    // Update button text
    document.getElementById('dropdownButton').innerHTML = `${optionTitle} <i class="fa fa-chevron-down font_10 ms-1"></i>`;

    // Close dropdown
    document.querySelector('.dropdown').classList.remove('show');

    const tableData = statsData[optionTitle];

	switch(optionTitle) {
        case 'Current Teams':
            currentTeamsTable(tableData);
            break;
        case 'Defunct Teams':
            defunctTeamsTable(tableData);
            break;
        case 'Tournament Summary':
            tournamentSummaryTable(tableData);
            break;
        case 'Editions and Results':
            editionsAndResultsTable(tableData);
            break;
        case 'Performance by Teams':
            performanceByTeamsTable(tableData);
            break;
        case 'Position Each Season':
            positionEachSeasonTable(tableData);
            break;
        case 'All-time Standings':
            allTimeStandingsTable(tableData);
            break;
        case 'Batting Records':
            battingRecordsTable(tableData);
            break;
        case 'Bowling Records':
            bowlingRecordsTable(tableData);
            break;
        case 'Fielding Records':
            fieldingRecordsTable(tableData);
            break;
        case 'Team Records':
            teamRecordsTable(tableData);
            break;
        case 'Most Appearences':
            mostAppearancesTable(tableData);
            break;
    }
  }

  function currentTeamsTable(data) {
    const tableContainer = document.getElementById('tableContainer');
    
  }
</script>
{% endblock %}